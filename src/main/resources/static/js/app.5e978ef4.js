(function(){"use strict";var t={8616:function(t,e,a){var s=a(5130),r=a(6768);function n(t,e,a,s,n,i){const o=(0,r.g2)("router-view"),l=(0,r.g2)("MainLayout");return(0,r.uX)(),(0,r.Wv)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)(o)])),_:1})}const i={class:"d-flex flex-column min-vh-100"},o={class:"container py-5 mt-5"};function l(t,e,a,s,n,l){const c=(0,r.g2)("Header"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(c),(0,r.Lk)("main",o,[(0,r.RG)(t.$slots,"default")]),(0,r.bF)(d)])}var c=a(4232);const d={class:"container d-flex justify-content-between align-items-center"},u={class:"d-flex align-items-center gap-4"},p={class:"d-none d-md-flex gap-3"},h={key:0,class:"text-white"},m={key:1,class:"text-white d-flex align-items-center gap-2"};function v(t,e,a,s,n,i){const o=(0,r.g2)("router-link"),l=(0,r.g2)("Header");return(0,r.uX)(),(0,r.Wv)(l,{class:"bg-dark text-white py-3 fixed-top shadow"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",d,[(0,r.Lk)("div",u,[(0,r.bF)(o,{to:"/",class:"text-white fs-4 fw-bold text-decoration-none"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)("Réservation")]))),_:1}),(0,r.Lk)("nav",p,[(0,r.bF)(o,{to:"/",class:"text-white nav-link"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("Accueil")]))),_:1}),(0,r.bF)(o,{to:"/spectacles",class:"text-white nav-link"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.eW)("Spectacles")]))),_:1}),(0,r.bF)(o,{to:"/artists",class:"text-white nav-link"},{default:(0,r.k6)((()=>e[4]||(e[4]=[(0,r.eW)("Artistes")]))),_:1})])]),(0,r.Lk)("div",null,[n.isAuthenticated?((0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("span",null,"Bonjour, "+(0,c.v_)(n.username),1),(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.logout&&i.logout(...t)),class:"text-white hover:text-red-400"},"Se déconnecter")])):((0,r.uX)(),(0,r.CE)("div",h,[(0,r.bF)(o,{to:"/login",class:"text-white"},{default:(0,r.k6)((()=>e[5]||(e[5]=[(0,r.eW)("Se connecter")]))),_:1}),e[7]||(e[7]=(0,r.Lk)("span",{class:"mx-1"},"|",-1)),(0,r.bF)(o,{to:"/registration",class:"text-white"},{default:(0,r.k6)((()=>e[6]||(e[6]=[(0,r.eW)("S'inscrire")]))),_:1})]))])])])),_:1})}a(4114);var g=a(4373),f={name:"AppHeader",data(){return{isAuthenticated:!1,username:""}},created(){this.checkAuthentication()},methods:{checkAuthentication(){g.A.get("http://localhost:8080/api/auth/check",{withCredentials:!0}).then((t=>{this.isAuthenticated=!0,this.username=t.data.username})).catch((()=>{this.isAuthenticated=!1,this.username=""}))},async logout(){try{await g.A.post("http://localhost:8080/api/logout",null,{withCredentials:!0}),this.isAuthenticated=!1,this.username="",this.$router.push("/login")}catch(t){console.error(t)}}}},y=a(1241);const b=(0,y.A)(f,[["render",v]]);var k=b;function x(t,e,a,s,n,i){const o=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.Wv)(o,{class:"bg-dark text-white text-center py-4 mt-auto"},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)(" © 2025 - EPFC / ICC - Projet Réservations ")]))),_:1})}var L={name:"AppFooter"};const w=(0,y.A)(L,[["render",x]]);var A=w,E={name:"MainLayout",components:{Header:k,Footer:A}};const C=(0,y.A)(E,[["render",l]]);var _=C,X={name:"App",components:{MainLayout:_}};const F=(0,y.A)(X,[["render",n]]);var S=F,$=(a(8111),a(3579),a(1387));const R={class:"container mx-auto px-6 py-12 bg-gray-50 min-h-screen"},j={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8"},D=["src","alt"],W={class:"p-6"},I={class:"text-xl font-bold text-gray-800 mb-2"},M={class:"text-gray-600 mb-4"},P={class:"flex items-center mt-4 mb-4"},O={key:0,class:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium"},H={key:1,class:"px-3 py-1 bg-gray-200 text-gray-500 rounded-full text-sm font-medium"},q={key:0},U=["href"],V={key:0,class:"text-center text-gray-500 mt-12"};function K(t,e,a,s,n,i){return(0,r.uX)(),(0,r.CE)("div",R,[e[0]||(e[0]=(0,r.Lk)("h1",{class:"text-4xl font-extrabold text-gray-900 mb-8 text-center"}," Liste des Spectacles ",-1)),e[1]||(e[1]=(0,r.Lk)("div",{class:"container mt-5"},[(0,r.Lk)("h1",{class:"text-primary"},"Hello Bootstrap 👋"),(0,r.Lk)("button",{class:"btn btn-success"},"Bouton test")],-1)),(0,r.Lk)("div",j,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.shows,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"card bg-white rounded-lg shadow-lg overflow-hidden"},[(0,r.Lk)("img",{src:i.getPosterUrl(t.posterUrl),class:"w-full h-64 object-cover",alt:`Affiche de ${t.title}`},null,8,D),(0,r.Lk)("div",W,[(0,r.Lk)("h5",I,(0,c.v_)(t.title),1),(0,r.Lk)("p",M," Créé le : "+(0,c.v_)(new Date(t.createdAt).toLocaleDateString("fr-FR")),1),(0,r.Lk)("div",P,[t.availableSeats>0?((0,r.uX)(),(0,r.CE)("span",O,(0,c.v_)(t.availableSeats)+" place(s) disponible(s) ",1)):((0,r.uX)(),(0,r.CE)("span",H," Complet "))]),t.bookable?((0,r.uX)(),(0,r.CE)("div",q,[(0,r.Lk)("a",{href:`/shows/${t.id}/reserve`,class:"bg-blue-600 text-white px-5 py-2 rounded-lg shadow hover:bg-blue-700 transition"}," Réserver ",8,U)])):(0,r.Q3)("",!0)])])))),128))]),0===n.shows.length?((0,r.uX)(),(0,r.CE)("div",V," Aucun spectacle disponible pour le moment. ")):(0,r.Q3)("",!0)])}var T={name:"ShowList",data(){return{shows:[]}},mounted(){this.fetchShows()},methods:{async fetchShows(){try{const t=await fetch("/api/spectacles");if(!t.ok)throw new Error("Erreur lors de la récupération des spectacles");const e=await t.json();console.log("Données reçues depuis /api/spectacles :",e),this.shows=e}catch(t){console.error(t)}},getPosterUrl(t){return t.startsWith("http")?t:`/images/${t}`}}};const z=(0,y.A)(T,[["render",K],["__scopeId","data-v-647592ed"]]);var B=z;const Q={class:"container py-5"},J={key:0,class:"text-center"},N={key:1,class:"alert alert-info text-center"},G={key:2,class:"list-group"};function Y(t,e,a,s,n,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Q,[e[2]||(e[2]=(0,r.Lk)("h1",{class:"mb-4 text-center"},"Liste des Artistes",-1)),n.loading?((0,r.uX)(),(0,r.CE)("div",J,e[0]||(e[0]=[(0,r.Lk)("div",{class:"spinner-border",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Chargement…")],-1)]))):0===n.artists.length?((0,r.uX)(),(0,r.CE)("div",N," Aucun artiste disponible. ")):((0,r.uX)(),(0,r.CE)("ul",G,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.artists,(t=>((0,r.uX)(),(0,r.CE)("li",{key:t.id,class:"list-group-item d-flex justify-content-between align-items-center"},[(0,r.Lk)("span",null,(0,c.v_)(t.firstname)+" "+(0,c.v_)(t.lastname),1),(0,r.bF)(o,{to:{name:"ArtistDetail",params:{id:t.id}},class:"btn btn-sm btn-outline-primary"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)(" Voir ")]))),_:2},1032,["to"])])))),128))]))])}const Z="/api/artists";var tt={getAll(){return g.A.get(Z)},getById(t){return g.A.get(`${Z}/${t}`)},create(t){return g.A.post(Z,t)},update(t,e){return g.A.put(`${Z}/${t}`,e)},delete(t){return g.A.delete(`${Z}/${t}`)}},et={name:"ArtistList",data(){return{artists:[],loading:!0,error:!1}},async mounted(){try{const t=await tt.getAll();this.artists=t.data}catch(t){this.error=!0}finally{this.loading=!1}}};const at=(0,y.A)(et,[["render",Y],["__scopeId","data-v-5f14f630"]]);var st=at;const rt={class:"container py-5"},nt={key:0,class:"text-center"},it={key:1,class:"alert alert-danger text-center"},ot={key:2,class:"bg-white border rounded shadow p-4"},lt={class:"d-flex justify-content-between align-items-center mb-4"},ct={class:"text-2xl font-semibold text-gray-800"},dt={class:"list-group"},ut={key:0,class:"text-muted mt-2"},pt={class:"mt-4"};function ht(t,e,a,s,n,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",rt,[e[5]||(e[5]=(0,r.Lk)("h1",{class:"mb-4 text-center"},"Fiche de l'Artiste",-1)),n.loading?((0,r.uX)(),(0,r.CE)("div",nt,e[1]||(e[1]=[(0,r.Lk)("div",{class:"spinner-border",role:"status"},[(0,r.Lk)("span",{class:"visually-hidden"},"Chargement…")],-1)]))):n.error?((0,r.uX)(),(0,r.CE)("div",it," Une erreur est survenue lors du chargement des détails. ")):n.artist?((0,r.uX)(),(0,r.CE)("div",ot,[(0,r.Lk)("div",lt,[(0,r.Lk)("h2",ct,(0,c.v_)(n.artist.firstname)+" "+(0,c.v_)(n.artist.lastname),1),(0,r.Lk)("div",null,[(0,r.bF)(o,{to:{name:"ArtistEdit",params:{id:n.artist.id}},class:"btn btn-warning btn-sm me-2"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("Modifier")]))),_:1},8,["to"]),(0,r.Lk)("button",{class:"btn btn-danger btn-sm",onClick:e[0]||(e[0]=(...t)=>i.deleteArtist&&i.deleteArtist(...t))},"Supprimer")])]),(0,r.Lk)("div",null,[e[3]||(e[3]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-700 mb-2"},"Types associés :",-1)),(0,r.Lk)("ul",dt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.artist.types,((t,e)=>((0,r.uX)(),(0,r.CE)("li",{key:e,class:"list-group-item"},(0,c.v_)(t),1)))),128))]),0===n.artist.types.length?((0,r.uX)(),(0,r.CE)("p",ut,"Aucun type associé à cet artiste.")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",pt,[(0,r.bF)(o,{to:"/artists",class:"btn btn-link"},{default:(0,r.k6)((()=>e[4]||(e[4]=[(0,r.eW)("← Retour à la liste des artistes")]))),_:1})])])):(0,r.Q3)("",!0)])}var mt={name:"ArtistDetail",data(){return{artist:null,loading:!0,error:!1}},async mounted(){const t=this.$route.params.id;try{const e=await tt.getById(t);this.artist=e.data}catch(e){this.error=!0}finally{this.loading=!1}},methods:{async deleteArtist(){if(confirm(`Voulez-vous vraiment supprimer l'artiste ${this.artist.firstname} ${this.artist.lastname}?`))try{await tt.delete(this.artist.id),this.$router.push({name:"ArtistList"})}catch(t){alert("Une erreur est survenue lors de la suppression.")}}}};const vt=(0,y.A)(mt,[["render",ht],["__scopeId","data-v-4967a0f0"]]);var gt=vt;const ft={class:"container py-5"},yt={class:"mb-4 text-center"},bt={class:"mb-3"},kt={class:"mb-3"},xt={class:"d-flex gap-2"},Lt={type:"submit",class:"btn btn-success"};function wt(t,e,a,n,i,o){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",ft,[(0,r.Lk)("h1",yt,(0,c.v_)(i.isEdit?"Modifier":"Ajouter")+" un artiste",1),(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...t)=>o.handleSubmit&&o.handleSubmit(...t)),["prevent"])),class:"bg-white border rounded shadow p-4"},[(0,r.Lk)("div",bt,[e[3]||(e[3]=(0,r.Lk)("label",{class:"form-label"},"Prénom",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.artist.firstname=t),type:"text",class:"form-control",required:""},null,512),[[s.Jo,i.artist.firstname]])]),(0,r.Lk)("div",kt,[e[4]||(e[4]=(0,r.Lk)("label",{class:"form-label"},"Nom",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.artist.lastname=t),type:"text",class:"form-control",required:""},null,512),[[s.Jo,i.artist.lastname]])]),(0,r.Lk)("div",xt,[(0,r.Lk)("button",Lt,(0,c.v_)(i.isEdit?"Enregistrer":"Ajouter"),1),(0,r.bF)(l,{to:"/artists",class:"btn btn-secondary"},{default:(0,r.k6)((()=>e[5]||(e[5]=[(0,r.eW)("Annuler")]))),_:1})])],32)])}var At={name:"ArtistForm",data(){return{artist:{firstname:"",lastname:""},isEdit:!1}},async mounted(){const t=this.$route.params.id;if(t){this.isEdit=!0;try{const e=await tt.getById(t);this.artist=e.data}catch(e){alert("Erreur de chargement des données.")}}},methods:{async handleSubmit(){try{this.isEdit?await tt.update(this.artist.id,this.artist):await tt.create(this.artist),this.$router.push({name:"ArtistList"})}catch(t){alert("Erreur lors de l'enregistrement.")}}}};const Et=(0,y.A)(At,[["render",wt]]);var Ct=Et;const _t={class:"container py-5"},Xt={class:"rounded-3 overflow-hidden mb-5",style:{"background-image":"url('/images/spectacle-hero.jpg')","background-size":"cover","background-position":"center",height:"400px"}},Ft={class:"h-100 d-flex flex-column justify-content-center align-items-center text-center bg-dark bg-opacity-50"};function St(t,e,a,s,n,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",_t,[(0,r.Lk)("section",Xt,[(0,r.Lk)("div",Ft,[e[1]||(e[1]=(0,r.Lk)("h1",{class:"text-white fw-bold display-4 mb-3"},"Bienvenue sur notre plateforme",-1)),e[2]||(e[2]=(0,r.Lk)("p",{class:"text-light fs-5 mb-4"},"Réservez vos places pour les spectacles les plus en vogue",-1)),(0,r.bF)(o,{to:"/shows",class:"btn btn-primary btn-lg"},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)(" Découvrir les spectacles ")]))),_:1})])]),e[3]||(e[3]=(0,r.Fv)('<section class="mt-5" data-v-7a83a72e><div class="row g-4" data-v-7a83a72e><div class="col-md-4" data-v-7a83a72e><div class="bg-white rounded shadow p-4 text-center h-100" data-v-7a83a72e><div class="mb-3" data-v-7a83a72e><i class="fas fa-ticket-alt text-primary fs-1" data-v-7a83a72e></i></div><h3 class="h5 mb-2" data-v-7a83a72e>Réservation en ligne</h3><p data-v-7a83a72e>Accédez rapidement à vos réservations et achetez vos billets en quelques clics.</p></div></div><div class="col-md-4" data-v-7a83a72e><div class="bg-white rounded shadow p-4 text-center h-100" data-v-7a83a72e><div class="mb-3" data-v-7a83a72e><i class="fas fa-calendar-alt text-primary fs-1" data-v-7a83a72e></i></div><h3 class="h5 mb-2" data-v-7a83a72e>Évènements à venir</h3><p data-v-7a83a72e>Consultez notre calendrier pour ne rien manquer des prochains spectacles.</p></div></div><div class="col-md-4" data-v-7a83a72e><div class="bg-white rounded shadow p-4 text-center h-100" data-v-7a83a72e><div class="mb-3" data-v-7a83a72e><i class="fas fa-users text-primary fs-1" data-v-7a83a72e></i></div><h3 class="h5 mb-2" data-v-7a83a72e>Communauté</h3><p data-v-7a83a72e>Rejoignez une communauté passionnée par la culture et les arts du spectacle.</p></div></div></div></section>',1))])}var $t={name:"HomePage"};const Rt=(0,y.A)($t,[["render",St],["__scopeId","data-v-7a83a72e"]]);var jt=Rt;const Dt={class:"login-container"},Wt={key:0,class:"error"};function It(t,e,a,n,i,o){return(0,r.uX)(),(0,r.CE)("div",Dt,[e[6]||(e[6]=(0,r.Lk)("h2",null,"Connexion",-1)),(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...t)=>o.handleLogin&&o.handleLogin(...t)),["prevent"]))},[(0,r.Lk)("div",null,[e[3]||(e[3]=(0,r.Lk)("label",{for:"login"},"Nom d'utilisateur",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"login","onUpdate:modelValue":e[0]||(e[0]=t=>i.login=t),required:""},null,512),[[s.Jo,i.login]])]),(0,r.Lk)("div",null,[e[4]||(e[4]=(0,r.Lk)("label",{for:"password"},"Mot de passe",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),required:""},null,512),[[s.Jo,i.password]])]),e[5]||(e[5]=(0,r.Lk)("button",{type:"submit"},"Se connecter",-1))],32),i.errorMessage?((0,r.uX)(),(0,r.CE)("p",Wt,(0,c.v_)(i.errorMessage),1)):(0,r.Q3)("",!0)])}const Mt=g.A.create({baseURL:"http://localhost:8080/api",withCredentials:!0});Mt.interceptors.response.use((t=>t),(t=>(t.response&&401===t.response.status&&(window.location.href="/login"),Promise.reject(t))));var Pt=Mt,Ot={name:"LoginPage",data(){return{login:"",password:"",errorMessage:""}},methods:{async handleLogin(){console.log("Tentative de connexion...");try{const t=await Pt.post("/login",{login:this.login,password:this.password});console.log("Réponse de l'API login:",t),this.$router.push("/")}catch(t){console.error("Erreur de connexion:",t),this.errorMessage=t.response?.data||"Erreur de connexion."}}}};const Ht=(0,y.A)(Ot,[["render",It]]);var qt=Ht,Ut=a(144);const Vt={class:"container py-5"},Kt={key:0,class:"alert alert-info text-center"},Tt={key:1,class:"list-group shadow-sm"},zt=["href"],Bt={class:"fw-semibold"};var Qt={__name:"LocalityList",setup(t){const e=(0,Ut.KR)([]);return(0,r.sV)((async()=>{try{const t=await Pt.get("/localities");e.value=t.data}catch(t){console.error("Erreur de chargement des localités",t)}})),(t,a)=>((0,r.uX)(),(0,r.CE)("div",Vt,[a[1]||(a[1]=(0,r.Lk)("h1",{class:"mb-4 text-primary"},"Liste des localités",-1)),0===e.value.length?((0,r.uX)(),(0,r.CE)("div",Kt," Aucune localité enregistrée. ")):((0,r.uX)(),(0,r.CE)("div",Tt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.value,(t=>((0,r.uX)(),(0,r.CE)("a",{key:t.id,href:`/localities/${t.id}`,class:"list-group-item list-group-item-action d-flex justify-content-between align-items-center"},[(0,r.Lk)("span",Bt,(0,c.v_)(t.postalCode)+" "+(0,c.v_)(t.locality),1),a[0]||(a[0]=(0,r.Lk)("span",{class:"text-primary"},"Voir »",-1))],8,zt)))),128))]))]))}};const Jt=Qt;var Nt=Jt;const Gt={class:"container py-5"},Yt={class:"mb-4 text-primary"},Zt={key:0,class:"list-group mb-4"},te={key:1,class:"alert alert-warning"};var ee={__name:"LocalityShow",setup(t){const e=(0,$.lq)(),a=(0,Ut.KR)(null);return(0,r.sV)((async()=>{try{const t=await Pt.get(`/localities/${e.params.id}`);a.value=t.data}catch(t){console.error("Erreur de chargement de la localité",t)}})),(t,e)=>{const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Gt,[(0,r.Lk)("h2",Yt,(0,c.v_)(a.value?.postalCode)+" "+(0,c.v_)(a.value?.locality),1),(0,r.Lk)("div",null,[e[0]||(e[0]=(0,r.Lk)("h4",{class:"mb-3 text-secondary"},"Lieux de spectacle :",-1)),a.value?.places?.length>0?((0,r.uX)(),(0,r.CE)("ul",Zt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.value.places,(t=>((0,r.uX)(),(0,r.CE)("li",{key:t,class:"list-group-item"},(0,c.v_)(t),1)))),128))])):((0,r.uX)(),(0,r.CE)("div",te," Aucun lieu de spectacle associé à cette localité. "))]),(0,r.bF)(s,{to:"/localities",class:"btn btn-outline-primary"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)(" ← Retour à la liste des localités ")]))),_:1})])}}};const ae=ee;var se=ae;const re={class:"container mx-auto py-8"},ne={key:0},ie={key:1,class:"overflow-x-auto"},oe={class:"min-w-full bg-white shadow-md rounded-lg overflow-hidden"},le={class:"py-3 px-4"},ce={class:"py-3 px-4"},de={class:"py-3 px-4"},ue={class:"py-3 px-4"},pe={class:"py-3 px-4"};function he(t,e,a,s,n,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",re,[e[3]||(e[3]=(0,r.Lk)("h1",{class:"text-2xl font-bold mb-6"},"Liste des représentations de spectacle",-1)),0===n.representations.length?((0,r.uX)(),(0,r.CE)("div",ne,e[0]||(e[0]=[(0,r.Lk)("p",{class:"text-gray-600"},"Aucune représentation disponible.",-1)]))):((0,r.uX)(),(0,r.CE)("div",ie,[(0,r.Lk)("table",oe,[e[2]||(e[2]=(0,r.Lk)("thead",{class:"bg-gray-200"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"py-3 px-4 text-left"},"Spectacle"),(0,r.Lk)("th",{class:"py-3 px-4 text-left"},"Lieu"),(0,r.Lk)("th",{class:"py-3 px-4 text-left"},"Date"),(0,r.Lk)("th",{class:"py-3 px-4 text-left"},"Heure"),(0,r.Lk)("th",{class:"py-3 px-4"})])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.representations,(t=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id,class:"border-b hover:bg-gray-50"},[(0,r.Lk)("td",le,(0,c.v_)(t.showTitle),1),(0,r.Lk)("td",ce,(0,c.v_)(t.locationDesignation),1),(0,r.Lk)("td",de,(0,c.v_)(i.formatDate(t.when,"dd-MM-yyyy")),1),(0,r.Lk)("td",ue,(0,c.v_)(i.formatDate(t.when,"HH:mm")),1),(0,r.Lk)("td",pe,[(0,r.bF)(o,{to:"/representations/"+t.id,class:"text-blue-500 hover:text-blue-700"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)("Voir")]))),_:2},1032,["to"])])])))),128))])])]))])}var me={data(){return{representations:[]}},methods:{async fetchRepresentations(){try{const t=await g.A.get("/api/representations");this.representations=t.data}catch(t){console.error("Erreur lors de la récupération des représentations:",t)}},formatDate(t){const e={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1};return new Date(t).toLocaleString("fr-FR",e).replace(",","")}},mounted(){this.fetchRepresentations()}};const ve=(0,y.A)(me,[["render",he],["__scopeId","data-v-5ffaa16c"]]);var ge=ve;const fe={key:0,class:"container mx-auto py-8"},ye={class:"text-2xl font-bold"},be={class:"text-gray-600"},ke={class:"text-gray-600"};function xe(t,e,a,s,n,i){const o=(0,r.g2)("router-link");return n.representation?((0,r.uX)(),(0,r.CE)("div",fe,[(0,r.Lk)("h1",ye,(0,c.v_)(n.representation.showTitle),1),(0,r.Lk)("p",be,(0,c.v_)(n.representation.locationDesignation),1),(0,r.Lk)("p",ke,(0,c.v_)(i.formatDate(n.representation.when,"dd-MM-yyyy HH:mm")),1),(0,r.Lk)("p",null,(0,c.v_)(n.representation.description),1),(0,r.bF)(o,{to:"/representations",class:"text-blue-500 hover:text-blue-700"},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)("Retour à la liste")]))),_:1})])):(0,r.Q3)("",!0)}var Le={data(){return{representation:null}},methods:{async fetchRepresentation(){try{const t=await g.A.get(`/api/representations/${this.$route.params.id}`);this.representation=t.data}catch(t){console.error("Erreur lors de la récupération des détails de la représentation:",t)}},formatDate(t){const e={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1};return new Date(t).toLocaleString("fr-FR",e).replace(",","")}},mounted(){this.fetchRepresentation()}};const we=(0,y.A)(Le,[["render",xe],["__scopeId","data-v-1dda6871"]]);var Ae=we;const Ee=[{path:"/",name:"Home",component:jt},{path:"/login",name:"LoginPage",component:qt},{path:"/spectacles",name:"Showlist",component:B},{path:"/artists",name:"Artistlist",component:st,meta:{requiresAuth:!0}},{path:"/artists/:id",name:"ArtistDetail",component:gt},{path:"/artists/:id/edit",name:"ArtistEdit",component:Ct},{path:"/artists/create",name:"ArtistCreate",component:Ct},{path:"/localities",name:"LocalityList",component:Nt},{path:"/localities/:id",name:"LocalityShow",component:se},{path:"/representations",name:"RepresentationList",component:ge},{path:"/representations/:id",name:"RepresentationDetail",component:Ae}],Ce=(0,$.aE)({history:(0,$.LA)(),routes:Ee});Ce.beforeEach(((t,e,a)=>{const s=t.matched.some((t=>t.meta&&t.meta.requiresAuth));s?fetch("http://localhost:8080/api/auth/check",{credentials:"include"}).then((t=>{console.log("Auth check response:",t),t.ok?a():a({name:"LoginPage"})})).catch((t=>{console.error("Auth check error:",t),a({name:"LoginPage"})})):a()}));var _e=Ce;a(8077);const Xe=(0,s.Ef)(S);Xe.use(_e),Xe.mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,n){if(!s){var i=1/0;for(d=0;d<t.length;d++){s=t[d][0],r=t[d][1],n=t[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(o=!1,n<i&&(i=n));if(o){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[s,r,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,i=s[0],o=s[1],l=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var d=l(a)}for(e&&e(s);c<i.length;c++)n=i[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(8616)}));s=a.O(s)})();
//# sourceMappingURL=app.5e978ef4.js.map