(function(){"use strict";var e={2115:function(e,t,s){var a=s(5130),l=s(6768);function o(e,t,s,a,o,r){const n=(0,l.g2)("router-view"),i=(0,l.g2)("MainLayout");return(0,l.uX)(),(0,l.Wv)(i,null,{default:(0,l.k6)((()=>[(0,l.bF)(n)])),_:1})}var r=s(4232);const n={class:"bg-gray-100"},i={class:"pt-20 pb-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},c={id:"notification"},u={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},d={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"};function g(e,t,s,a,o,g){const h=(0,l.g2)("AppHeader"),p=(0,l.g2)("AppFooter");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(h),(0,l.Lk)("main",i,[(0,l.Lk)("div",c,[o.successMessage?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("p",null,(0,r.v_)(o.successMessage),1)])):(0,l.Q3)("",!0),o.errorMessage?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("p",null,(0,r.v_)(o.errorMessage),1)])):(0,l.Q3)("",!0)]),(0,l.RG)(e.$slots,"default",{},void 0,!0)]),(0,l.bF)(p)])}const h={class:"bg-gray-800 fixed top-0 w-full z-50 shadow"},p={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},m={class:"flex items-center justify-between h-16"},b={class:"flex items-center"},x={class:"ml-8 space-x-4"},f={class:"flex items-center space-x-4"},v={key:0},y={key:1,class:"flex items-center space-x-3"},k={class:"text-gray-300"};function w(e,t,s,a,o,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("header",h,[(0,l.Lk)("div",p,[(0,l.Lk)("div",m,[(0,l.Lk)("div",b,[(0,l.bF)(i,{to:"/",class:"text-white font-bold text-xl"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("R√©servation")]))),_:1}),(0,l.Lk)("nav",x,[t[5]||(t[5]=(0,l.Lk)("a",{href:"/localities",class:"text-gray-300 hover:text-white"},"Locations",-1)),(0,l.bF)(i,{to:"/localities",class:"text-gray-300 hover:text-white"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("Localit√©s")]))),_:1}),(0,l.bF)(i,{to:"/shows",class:"text-gray-300 hover:text-white"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("Spectacles")]))),_:1}),(0,l.bF)(i,{to:"/cart/view",class:"text-gray-300 hover:text-white"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("üõí Mon panier")]))),_:1}),o.roles&&o.roles.includes("ROLE_ADMIN")?((0,l.uX)(),(0,l.Wv)(i,{key:0,to:"/tags",class:"text-yellow-300 hover:text-white"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)(" Tags ")]))),_:1})):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",f,[o.isAuthenticated?((0,l.uX)(),(0,l.CE)("div",y,[(0,l.Lk)("span",k,"Bonjour, "+(0,r.v_)(o.username),1),t[7]||(t[7]=(0,l.Lk)("form",{method:"POST",action:"/logout"},[(0,l.Lk)("button",{type:"submit",class:"text-blue-400 hover:text-white"},"Se d√©connecter")],-1))])):((0,l.uX)(),(0,l.CE)("div",v,t[6]||(t[6]=[(0,l.Lk)("a",{href:"/login",class:"text-gray-300 hover:text-white"},"Se connecter",-1),(0,l.Lk)("a",{href:"/registration",class:"text-gray-300 hover:text-white ml-2"},"S'inscrire",-1)])))])])])])}var L=s(4373);const C=L.A.create({baseURL:"/api",withCredentials:!0});function E(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}C.interceptors.request.use((e=>{const t=E("XSRF-TOKEN");return t&&(e.headers["X-XSRF-TOKEN"]=t),e}));var X=C,_={data(){return{isAuthenticated:!1,username:"",roles:[]}},async mounted(){try{const e=await X.get("/auth/check");this.username=e.data.username,this.roles=Array.isArray(e.data.roles)?e.data.roles:[],this.isAuthenticated=!0,console.log("‚úÖ R√¥les r√©cup√©r√©s :",this.roles)}catch{this.isAuthenticated=!1,this.roles=[]}}},F=s(1241);const S=(0,F.A)(_,[["render",w],["__scopeId","data-v-ab7d9aaa"]]);var A=S;const P={class:"bg-gray-800 text-gray-300 py-4"};function T(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("footer",P,t[0]||(t[0]=[(0,l.Lk)("div",{class:"max-w-7xl mx-auto px-4 text-center"}," ¬© 2025 ‚Äì EPFC / ICC ‚Äì Projet R√©servations ",-1)]))}var I={name:"AppFooter"};const M=(0,F.A)(I,[["render",T],["__scopeId","data-v-4c688f32"]]);var $=M,j={components:{AppHeader:A,AppFooter:$},data(){return{successMessage:null,errorMessage:null}}};const R=(0,F.A)(j,[["render",g],["__scopeId","data-v-45f7b8bb"]]);var D=R,O={name:"App",components:{MainLayout:D}};const Q=(0,F.A)(O,[["render",o]]);var W=Q,K=s(1387);const q={class:"bg-cover bg-center h-96 rounded-lg",style:{backgroundImage:"url('/images/spectacle-hero.jpg')"}},U={class:"bg-gray-900 bg-opacity-50 h-full flex flex-col justify-center items-center"};function N(e,t,s,a,o,r){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("section",q,[(0,l.Lk)("div",U,[t[1]||(t[1]=(0,l.Lk)("h1",{class:"text-white text-4xl font-bold mb-4"},"Frontend",-1)),t[2]||(t[2]=(0,l.Lk)("p",{class:"text-gray-300 text-lg mb-6"},"R√©servez vos places pour les spectacles les plus en vogue",-1)),(0,l.bF)(n,{to:"/shows",class:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-medium"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)(" D√©couvrir les spectacles ")]))),_:1})])]),t[3]||(t[3]=(0,l.Fv)('<section class="mt-12" data-v-51eafcbb><div class="grid grid-cols-1 md:grid-cols-3 gap-8" data-v-51eafcbb><div class="bg-white rounded-lg shadow-lg p-6 text-center" data-v-51eafcbb><div class="mb-4" data-v-51eafcbb><i class="fas fa-ticket-alt text-blue-500 text-4xl" data-v-51eafcbb></i></div><h3 class="text-xl font-semibold mb-2" data-v-51eafcbb>R√©servation en ligne</h3><p class="text-gray-600" data-v-51eafcbb> Acc√©dez rapidement √† vos r√©servations et achetez vos billets en quelques clics. </p></div><div class="bg-white rounded-lg shadow-lg p-6 text-center" data-v-51eafcbb><div class="mb-4" data-v-51eafcbb><i class="fas fa-calendar-alt text-blue-500 text-4xl" data-v-51eafcbb></i></div><h3 class="text-xl font-semibold mb-2" data-v-51eafcbb>√âv√®nements √† venir</h3><p class="text-gray-600" data-v-51eafcbb> Consultez notre calendrier pour ne rien manquer des prochains spectacles. </p></div><div class="bg-white rounded-lg shadow-lg p-6 text-center" data-v-51eafcbb><div class="mb-4" data-v-51eafcbb><i class="fas fa-users text-blue-500 text-4xl" data-v-51eafcbb></i></div><h3 class="text-xl font-semibold mb-2" data-v-51eafcbb>Communaut√©</h3><p class="text-gray-600" data-v-51eafcbb> Rejoignez une communaut√© passionn√©e par la culture et les arts du spectacle. </p></div></div></section>',1))])}var V={name:"AppHome"};const z=(0,F.A)(V,[["render",N],["__scopeId","data-v-51eafcbb"]]);var B=z;const H={key:0,class:"text-red-500"};function J(e,t,s,o,n,i){return(0,l.uX)(),(0,l.CE)("div",null,[t[6]||(t[6]=(0,l.Lk)("h1",null,"Bienvenue sur l'application !",-1)),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,l.Lk)("div",null,[t[3]||(t[3]=(0,l.Lk)("label",{for:"login"},"Login :",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.loginInput=e),id:"login",type:"text",required:""},null,512),[[a.Jo,n.loginInput]])]),(0,l.Lk)("div",null,[t[4]||(t[4]=(0,l.Lk)("label",{for:"password"},"Mot de passe :",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),id:"password",type:"password",required:""},null,512),[[a.Jo,n.password]])]),t[5]||(t[5]=(0,l.Lk)("button",{type:"submit"},"Se connecter",-1)),n.errorMessage?((0,l.uX)(),(0,l.CE)("p",H,(0,r.v_)(n.errorMessage),1)):(0,l.Q3)("",!0)],32)])}s(4114);var G={data(){return{loginInput:"",password:"",errorMessage:""}},methods:{async login(){try{await X.post("/login",{login:this.loginInput,password:this.password}).then((()=>X.get("/api/auth/check"))).then((e=>{this.username=e.data.username,this.isAuthenticated=!0,this.showLoginForm=!1})).catch((e=>{403===e.response?.status?this.errorMessage="Acc√®s refus√© (403) ‚Äî CSRF ou mauvais identifiants.":this.errorMessage="√âchec de la connexion."})),this.$router.push("/shows")}catch(e){this.errorMessage="√âchec de la connexion !"}}}};const Y=(0,F.A)(G,[["render",J],["__scopeId","data-v-30e6f72b"]]);var Z=Y;const ee={class:"max-w-4xl mx-auto px-6 py-8"},te={key:0,class:"text-gray-500 italic text-center bg-white border rounded shadow py-6"},se={key:1,class:"bg-white shadow border rounded divide-y divide-gray-200"},ae={class:"text-gray-700 font-medium"},le={class:"mt-6 flex justify-center"},oe=["disabled"],re={class:"mx-4 text-lg"},ne=["disabled"];function ie(e,t,s,a,o,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",ee,[t[3]||(t[3]=(0,l.Lk)("h1",{class:"text-2xl font-semibold text-gray-800 mb-6"},"Liste des localit√©s",-1)),0===o.localities.length?((0,l.uX)(),(0,l.CE)("div",te," Aucune localit√© enregistr√©e. ")):((0,l.uX)(),(0,l.CE)("ul",se,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.paginatedLocalities,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id,class:"px-4 py-3 flex justify-between items-center hover:bg-gray-50"},[(0,l.Lk)("span",ae,(0,r.v_)(e.postalCode)+" "+(0,r.v_)(e.locality),1),(0,l.bF)(i,{to:`/localities/${e.id}`,class:"text-blue-600 text-sm hover:underline"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("Voir")]))),_:2},1032,["to"])])))),128))])),(0,l.Lk)("div",le,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>n.changePage(o.currentPage-1)),disabled:0===o.currentPage,class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400"}," Pr√©c√©dent ",8,oe),(0,l.Lk)("span",re,(0,r.v_)(o.currentPage+1)+" / "+(0,r.v_)(n.totalPages),1),(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>n.changePage(o.currentPage+1)),disabled:o.currentPage===n.totalPages-1,class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400"}," Suivant ",8,ne)])])}var ce={name:"LocalitiesList",data(){return{localities:[],currentPage:0,itemsPerPage:10}},computed:{paginatedLocalities(){const e=this.currentPage*this.itemsPerPage,t=e+this.itemsPerPage;return this.localities.slice(e,t)},totalPages(){return Math.ceil(this.localities.length/this.itemsPerPage)}},async mounted(){try{const e=await this.$http.get("/localities");console.log("‚úÖ Donn√©es re√ßues :",e.data),this.localities=e.data}catch(e){console.error("Erreur lors du chargement des localit√©s :",e)}},methods:{changePage(e){e>=0&&e<this.totalPages&&(this.currentPage=e)}}};const ue=(0,F.A)(ce,[["render",ie],["__scopeId","data-v-230d4285"]]);var de=ue;const ge={class:"max-w-3xl mx-auto px-6 py-8"},he={key:0},pe={class:"text-2xl font-semibold text-gray-800 mb-4"},me={key:0,class:"list-disc list-inside text-gray-600 space-y-1"},be={key:1,class:"text-gray-500 italic"},xe={class:"mt-6"},fe={key:1,class:"text-gray-500 italic text-center"};function ve(e,t,s,a,o,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",ge,[o.locality?((0,l.uX)(),(0,l.CE)("div",he,[(0,l.Lk)("h1",pe,(0,r.v_)(o.locality.postalCode)+" "+(0,r.v_)(o.locality.locality),1),(0,l.Lk)("div",null,[t[0]||(t[0]=(0,l.Lk)("h2",{class:"text-lg font-medium text-gray-700 mb-2"},"Lieux de spectacle :",-1)),o.locality.places&&o.locality.places.length>0?((0,l.uX)(),(0,l.CE)("ul",me,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.locality.places,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e},(0,r.v_)(e),1)))),128))])):((0,l.uX)(),(0,l.CE)("p",be,"Aucun lieu de spectacle associ√© √† cette localit√©."))]),(0,l.Lk)("div",xe,[(0,l.bF)(i,{to:"/localities",class:"text-sm text-blue-600 hover:underline"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" ‚Üê Retour √† la liste des localit√©s ")]))),_:1})])])):((0,l.uX)(),(0,l.CE)("div",fe," Chargement en cours... "))])}var ye={name:"LocalityDetails",data(){return{locality:null}},async mounted(){try{const e=this.$route.params.id,t=await this.$http.get(`/localities/${e}`);this.locality=t.data}catch(e){console.error("Erreur lors du chargement de la localit√© :",e)}}};const ke=(0,F.A)(ye,[["render",ve]]);var we=ke;const Le={class:"max-w-7xl mx-auto px-6 py-10"},Ce=["value"],Ee={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Xe={class:"h-48 bg-gray-100 flex items-center justify-center"},_e=["src","alt"],Fe={key:1,class:"text-gray-400 italic text-sm"},Se={class:"p-4 flex-1 flex flex-col justify-between"},Ae={class:"text-xl font-bold text-gray-800 mb-1"},Pe={class:"flex flex-wrap items-center gap-2 text-sm mb-3"},Te={key:0,class:"inline-block px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium"},Ie={key:1,class:"inline-block px-2 py-1 bg-red-100 text-red-600 rounded-full text-xs font-medium"},Me={key:2,class:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium"},$e={key:3,class:"text-gray-400 italic text-xs"},je={key:4,class:"inline-block px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium"},Re={key:5,class:"inline-block px-2 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-medium italic"},De={class:"mt-3"},Oe={key:1,class:"text-center text-gray-500 italic bg-white py-10 rounded shadow border mt-8 text-lg"};function Qe(e,t,s,o,n,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Le,[t[6]||(t[6]=(0,l.Lk)("div",{class:"mb-10"},[(0,l.Lk)("h1",{class:"text-4xl font-extrabold text-gray-900"},"Liste des spectacles")],-1)),(0,l.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>i.fetchShowsByTag&&i.fetchShowsByTag(...e)),["prevent"])),class:"mb-6 flex gap-3 items-center"},[t[3]||(t[3]=(0,l.Lk)("label",{for:"tag",class:"text-gray-700"},"Rechercher par mot-cl√© :",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedTag=e),id:"tag",name:"tag",class:"border rounded px-3 py-1"},[t[2]||(t[2]=(0,l.Lk)("option",{value:""},"-- Tous les spectacles --",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.availableTags,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,r.v_)(e),9,Ce)))),128))],512),[[a.u1,n.selectedTag]]),t[4]||(t[4]=(0,l.Lk)("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," Rechercher ",-1))],32),n.shows.length>0?((0,l.uX)(),(0,l.CE)("div",Ee,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.shows,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"bg-white rounded-lg shadow-md hover:shadow-lg transition duration-300 overflow-hidden flex flex-col"},[(0,l.Lk)("div",Xe,[e.posterUrl?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`/images/${e.posterUrl}`,alt:e.title,class:"object-contain w-full h-full p-2"},null,8,_e)):((0,l.uX)(),(0,l.CE)("span",Fe,"Pas d'image"))]),(0,l.Lk)("div",Se,[(0,l.Lk)("div",null,[(0,l.Lk)("h2",Ae,(0,r.v_)(e.title),1),(0,l.Lk)("div",Pe,[e.bookable?((0,l.uX)(),(0,l.CE)("span",Te," R√©servable ")):((0,l.uX)(),(0,l.CE)("span",Ie," Non r√©servable ")),null!=e.minPrice?((0,l.uX)(),(0,l.CE)("span",Me,(0,r.v_)(e.minPrice)+" ‚Ç¨ ",1)):((0,l.uX)(),(0,l.CE)("span",$e,"Prix non d√©fini")),e.representationsCount>0?((0,l.uX)(),(0,l.CE)("span",je,(0,r.v_)(e.representationsCount)+" repr√©sentation(s) ",1)):((0,l.uX)(),(0,l.CE)("span",Re," Aucune repr√©sentation "))])]),(0,l.Lk)("div",De,[(0,l.bF)(c,{to:`/shows/${e.id}`,class:"inline-block text-sm text-blue-600 font-semibold hover:underline"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)(" Voir les d√©tails ‚Üí ")]))),_:2},1032,["to"])])])])))),128))])):((0,l.uX)(),(0,l.CE)("div",Oe," Aucun spectacle n‚Äôa encore √©t√© enregistr√©. "))])}s(8111),s(1701);var We={name:"ShowList",data(){return{shows:[],selectedTag:"",availableTags:[]}},mounted(){this.fetchShows(),this.fetchTags();const e=this.$route.query.excludeTag;e?this.fetchShowsExcludingTag(e):this.fetchShows()},methods:{async fetchShows(){try{const e=await X.get("/shows");this.shows=e.data}catch(e){console.error("Erreur lors du chargement des spectacles :",e)}},async fetchTags(){try{const e=await X.get("/tags");this.availableTags=e.data.map((e=>e.tag))}catch(e){console.warn("Impossible de charger les tags disponibles.")}},async fetchShowsByTag(){if(!this.selectedTag)return this.fetchShows();try{const e=await X.get(`/shows?tag=${this.selectedTag}`);this.shows=e.data}catch(e){console.error("Erreur lors du filtrage :",e),this.shows=[]}},async fetchShowsExcludingTag(e){try{const t=await X.get(`/shows/exclude?tag=${e}`);this.shows=t.data}catch(t){console.error("Erreur lors du filtrage exclu :",t),this.shows=[]}}}};const Ke=(0,F.A)(We,[["render",Qe]]);var qe=Ke;const Ue={class:"max-w-6xl mx-auto px-6 py-12"},Ne={key:0},Ve={class:"text-4xl font-extrabold text-gray-900 mb-8"},ze={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12"},Be={key:0,class:"aspect-[2/3] bg-white rounded-lg shadow overflow-hidden"},He=["src","alt"],Je={key:1,class:"w-full aspect-[2/3] flex items-center justify-center bg-gray-100 text-gray-400 rounded-lg shadow"},Ge={class:"md:col-span-2 space-y-4"},Ye={key:0},Ze={class:"text-gray-700"},et={key:1,class:"text-gray-700 leading-relaxed"},tt={class:"flex flex-wrap items-center gap-3"},st={key:0,class:"inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium"},at={key:1,class:"inline-block px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium"},lt={key:2,class:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"},ot={key:3,class:"italic text-gray-400 text-sm"},rt={key:4,class:"ml-auto"},nt={class:"mb-12"},it={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},ct={class:"font-medium mb-2"},ut={key:0,class:"mt-auto font-semibold text-gray-800"},dt={key:1,class:"mt-auto italic"},gt={key:2,class:"mt-auto italic"},ht={key:0,class:"mb-12"},pt={class:"grid grid-cols-1 md:grid-cols-2 gap-6 text-gray-700 text-sm"},mt={key:0},bt={class:"list-disc list-inside"},xt={key:1},ft={class:"list-disc list-inside"},vt={key:2},yt={class:"list-disc list-inside"},kt={class:"mb-12"},wt={class:"flex flex-wrap gap-2 mb-4"},Lt={key:0,class:"italic text-gray-500 mb-4"},Ct={key:1,class:"mt-4"},Et={class:"flex flex-wrap gap-2"},Xt={class:"mt-8"},_t={key:1,class:"text-center text-gray-500 italic py-12"};function Ft(e,t,s,a,o,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Ue,[o.show?((0,l.uX)(),(0,l.CE)("div",Ne,[(0,l.Lk)("h1",Ve,(0,r.v_)(o.show.title),1),(0,l.Lk)("div",ze,[(0,l.Lk)("div",null,[o.show.posterUrl?((0,l.uX)(),(0,l.CE)("div",Be,[(0,l.Lk)("img",{src:`/images/${o.show.posterUrl}`,alt:o.show.title,class:"object-contain w-full h-full"},null,8,He)])):((0,l.uX)(),(0,l.CE)("div",Je," Pas d‚Äôimage "))]),(0,l.Lk)("div",Ge,[o.show.location?((0,l.uX)(),(0,l.CE)("p",Ye,[t[0]||(t[0]=(0,l.Lk)("span",{class:"font-semibold text-gray-800"},"Lieu de cr√©ation :",-1)),(0,l.Lk)("span",Ze,(0,r.v_)(o.show.location),1)])):(0,l.Q3)("",!0),o.show.description?((0,l.uX)(),(0,l.CE)("div",et,[t[1]||(t[1]=(0,l.Lk)("h2",{class:"font-semibold text-gray-800 mb-1"},"Description",-1)),(0,l.Lk)("p",null,(0,r.v_)(o.show.description),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",tt,[o.show.bookable?((0,l.uX)(),(0,l.CE)("span",st,"R√©servable")):((0,l.uX)(),(0,l.CE)("span",at,"Non r√©servable")),null!=o.show.minPrice?((0,l.uX)(),(0,l.CE)("span",lt,(0,r.v_)(o.show.minPrice)+" ‚Ç¨",1)):((0,l.uX)(),(0,l.CE)("span",ot,"Prix non d√©fini")),o.show.bookable?((0,l.uX)(),(0,l.CE)("div",rt,t[2]||(t[2]=[(0,l.Lk)("button",{class:"bg-blue-600 text-white px-5 py-2 rounded-lg shadow hover:bg-blue-700 transition"},"R√©server",-1)]))):(0,l.Q3)("",!0)])])]),(0,l.Lk)("section",nt,[t[3]||(t[3]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Repr√©sentations",-1)),(0,l.Lk)("div",it,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.show.representations,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,r.C4)(["p-4 rounded-lg shadow flex flex-col",e.availableSeats>0?"bg-green-50":"bg-gray-200 text-gray-500"])},[(0,l.Lk)("p",ct,(0,r.v_)(n.formatDate(e.when)),1),e.availableSeats>0?((0,l.uX)(),(0,l.CE)("p",ut,(0,r.v_)(e.availableSeats)+" place(s) dispo",1)):0===e.availableSeats?((0,l.uX)(),(0,l.CE)("p",dt,"Complet")):((0,l.uX)(),(0,l.CE)("p",gt,"Places inconnues"))],2)))),128))])]),o.show.collaborateurs?((0,l.uX)(),(0,l.CE)("section",ht,[t[7]||(t[7]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Collaborateurs",-1)),(0,l.Lk)("div",pt,[o.show.collaborateurs.auteur?((0,l.uX)(),(0,l.CE)("div",mt,[t[4]||(t[4]=(0,l.Lk)("h3",{class:"font-semibold mb-1"},"Auteur(s)",-1)),(0,l.Lk)("ul",bt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.show.collaborateurs.auteur,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},(0,r.v_)(e.firstname)+" "+(0,r.v_)(e.lastname),1)))),128))])])):(0,l.Q3)("",!0),o.show.collaborateurs["sc√©nographe"]?((0,l.uX)(),(0,l.CE)("div",xt,[t[5]||(t[5]=(0,l.Lk)("h3",{class:"font-semibold mb-1"},"Metteur(s) en sc√®ne",-1)),(0,l.Lk)("ul",ft,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.show.collaborateurs["sc√©nographe"],(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},(0,r.v_)(e.firstname)+" "+(0,r.v_)(e.lastname),1)))),128))])])):(0,l.Q3)("",!0),o.show.collaborateurs.com√©dien?((0,l.uX)(),(0,l.CE)("div",vt,[t[6]||(t[6]=(0,l.Lk)("h3",{class:"font-semibold mb-1"},"Distribution",-1)),(0,l.Lk)("ul",yt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.show.collaborateurs.com√©dien,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},(0,r.v_)(e.firstname)+" "+(0,r.v_)(e.lastname),1)))),128))])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),(0,l.Lk)("section",kt,[t[8]||(t[8]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Mots-cl√©s associ√©s",-1)),(0,l.Lk)("div",wt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.show.tags,(e=>((0,l.uX)(),(0,l.CE)("span",{key:e,class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium hover:bg-yellow-200"},(0,r.v_)(e),1)))),128))]),0===o.show.tags.length?((0,l.uX)(),(0,l.CE)("p",Lt,"Aucun mot-cl√©.")):(0,l.Q3)("",!0)]),o.show.tags&&o.show.tags.length>0?((0,l.uX)(),(0,l.CE)("div",Ct,[t[9]||(t[9]=(0,l.Lk)("p",{class:"italic text-sm text-gray-600 mb-2"},"Voir les spectacles sans ce mot-cl√© :",-1)),(0,l.Lk)("div",Et,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.show.tags,(e=>((0,l.uX)(),(0,l.Wv)(i,{key:"exclude-"+e,to:`/shows?excludeTag=${e}`,class:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium hover:bg-red-200"},{default:(0,l.k6)((()=>[(0,l.eW)(" Sans "+(0,r.v_)(e),1)])),_:2},1032,["to"])))),128))])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Xt,[(0,l.bF)(i,{to:"/shows",class:"text-blue-600 hover:underline"},{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("‚Üê Retour √† la liste")]))),_:1})])])):((0,l.uX)(),(0,l.CE)("div",_t," Chargement du spectacle... "))])}var St={name:"ShowDetail",data(){return{show:null}},mounted(){this.fetchShow()},methods:{async fetchShow(){try{const e=this.$route.params.id,t=await X.get(`/shows/${e}`);this.show=t.data}catch(e){console.error("Erreur lors du chargement du spectacle :",e)}},formatDate(e){if(!e)return"Date inconnue";const t=new Date(e);return isNaN(t)?"Date invalide":t.toLocaleString("fr-BE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}}};const At=(0,F.A)(St,[["render",Ft]]);var Pt=At;const Tt={class:"max-w-4xl mx-auto py-10 px-4"},It={type:"submit",class:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700"},Mt={class:"w-full table-auto border-collapse"},$t={class:"px-4 py-2"},jt={class:"px-4 py-2"},Rt={class:"px-4 py-2 text-right space-x-2"},Dt=["onClick"],Ot=["onClick"];function Qt(e,t,s,o,n,i){return(0,l.uX)(),(0,l.CE)("div",Tt,[t[4]||(t[4]=(0,l.Lk)("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Gestion des Tags",-1)),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"])),class:"mb-8 flex gap-3"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.tagForm.tag=e),type:"text",placeholder:"Nom du tag",required:"",class:"border px-3 py-1 rounded w-full"},null,512),[[a.Jo,n.tagForm.tag]]),(0,l.Lk)("button",It,(0,r.v_)(n.tagForm.id?"Modifier":"Ajouter"),1),n.tagForm.id?((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",onClick:t[1]||(t[1]=(...e)=>i.resetForm&&i.resetForm(...e)),class:"text-sm text-gray-500 underline"}," Annuler ")):(0,l.Q3)("",!0)],32),(0,l.Lk)("table",Mt,[t[3]||(t[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",{class:"bg-gray-100 text-left"},[(0,l.Lk)("th",{class:"px-4 py-2"},"ID"),(0,l.Lk)("th",{class:"px-4 py-2"},"Tag"),(0,l.Lk)("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.tags,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"border-t hover:bg-gray-50"},[(0,l.Lk)("td",$t,(0,r.v_)(e.id),1),(0,l.Lk)("td",jt,(0,r.v_)(e.tag),1),(0,l.Lk)("td",Rt,[(0,l.Lk)("button",{onClick:t=>i.editTag(e),class:"text-blue-600 hover:underline text-sm"}," Modifier ",8,Dt),(0,l.Lk)("button",{onClick:t=>i.deleteTag(e.id),class:"text-red-600 hover:underline text-sm"}," Supprimer ",8,Ot)])])))),128))])])])}var Wt={name:"TagManager",data(){return{tags:[],tagForm:{id:null,tag:""}}},mounted(){this.fetchTags()},methods:{async fetchTags(){try{const e=await X.get("/tags");this.tags=e.data}catch(e){console.error("Erreur chargement tags:",e)}},async handleSubmit(){try{this.tagForm.id?await X.put(`/tags/${this.tagForm.id}`,this.tagForm):await X.post("/tags",this.tagForm),this.resetForm(),this.fetchTags()}catch(e){console.error("Erreur sauvegarde tag:",e)}},editTag(e){this.tagForm={...e}},async deleteTag(e){if(confirm("Confirmer la suppression ?"))try{await X.delete(`/tags/${e}`),this.fetchTags()}catch(t){console.error("Erreur suppression tag:",t)}},resetForm(){this.tagForm={id:null,tag:""}}}};const Kt=(0,F.A)(Wt,[["render",Qt],["__scopeId","data-v-f76a3348"]]);var qt=Kt;const Ut=[{path:"/",name:"Home",component:B},{path:"/login",name:"Login",component:Z},{path:"/shows",name:"ShowList",component:qe},{path:"/shows/:id",name:"ShowDetails",component:Pt},{path:"/localities",name:"LocalitiesList",component:de},{path:"/localities/:id",name:"LocalityDetails",component:we,meta:{requiresAuth:!0}},{path:"/tags",name:"crud",component:qt,meta:{requiresAuth:!0}}],Nt=(0,K.aE)({history:(0,K.LA)(),routes:Ut});var Vt=Nt;const zt=(0,a.Ef)(W);zt.config.globalProperties.$http=X,Vt.beforeEach((async(e,t,s)=>{if(e.meta.requiresAuth)try{const e=await X.get("/auth/check");200===e.status?s():window.location.href="/login"}catch{window.location.href="/login"}else s()})),zt.use(Vt).mount("#app")}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,l,o){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],l=e[u][1],o=e[u][2];for(var n=!0,i=0;i<a.length;i++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(n=!1,o<r&&(r=o));if(n){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,l,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,r=a[0],n=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in n)s.o(n,l)&&(s.m[l]=n[l]);if(i)var u=i(s)}for(t&&t(a);c<r.length;c++)o=r[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(2115)}));a=s.O(a)})();
//# sourceMappingURL=app.5acf7df3.js.map